default['server'].tap do |server|
  server['version'] = '5.5'
  server['data_dir'] = '/data/mysql'
  server['bin_log_dir'] = '/log/data/mysql'
  server['bin_log'] = 'mysql-bin'
  server['relay_log'] = 'mysql-relay-log'
  server['log_dir'] = '/var/log/mysql'
  server['error_log'] = 'mysql-error.log'
  server['slow_log'] = 'mysql-slow.log'
  server['innodb_buffer_pool_size'] = '1G'
  server['mysql_read_only'] = '0'
  server['server_sync_binlog'] = '1'
  server['mysql_server_id'] = ''
  server['query_cache_type'] = 'OFF'
  server['query_cache_size'] = '100M'
  server['query_cache_limit'] = '100M'
  server['log_slave_updates'] = 'false'
  server['backup_email'] = 'your@email.com'
  server['backup_script_dir'] = '/opt/percona_backup_scripts'
  server['backup_log_dir'] = '/var/log/mysql/percona_backups'
  server['xtrabackup']['sql_dump_file'] = 'percona_structure_backup.sql'
  server['xtrabackup']['backup_dir'] = '/percona_backups'
  server['xtrabackup']['aws_db_bucket'] = 's3://aws-s3-link/db_bucket/'
  server['binlog_backup']['backup_dir'] = '/percona_backups/binlog_backups'
  server['binlog_backup']['aws_binlog_bucket'] = 's3://aws-s3-link/bin_bucket/'
end

default['xtradb'].tap do |xtradb|
  xtradb['version'] = '5.5'
  xtradb['data_dir'] = '/data/mysql'
  xtradb['db_user'] = 'mysql'
  xtradb['binlog_format'] = 'ROW'
  xtradb['wsrep_provider'] = '/usr/lib/libgalera_smm.so'
  xtradb['default_storage_engine'] = 'InnoDB'
  xtradb['innodb_locks_unsafe_for_binlog'] = '1'
  xtradb['autoinc_lock_mode'] = '2'
  xtradb['wsrep_sst_method'] = 'xtrabackup'
  xtradb['wsrep_cluster_name'] = 'Yo_Cluster_Rox'
  xtradb['tmp_table_size'] = '32M'
  xtradb['max_heap_table_size'] = '32M'
  xtradb['query_cache_type'] = 'OFF'
  xtradb['query_cache_size'] = '0'
  xtradb['max_connections'] = '2000'
  xtradb['thread_cache_size'] = '100'
  xtradb['open_files_limit'] = '65535'
  xtradb['table_definition_cache'] = '4096'
  xtradb['table_open_cache'] = '4096'
  xtradb['innodb_flush_method'] = 'O_DIRECT'
  xtradb['log_files_in_group'] = '2'
  xtradb['flush_log_at_trx_commit'] = '2'
  xtradb['innodb_file_per_table'] = 'ON'
  xtradb['buffer_pool_size'] = '128M'
  xtradb['log_dir'] = '/var/log/mysql'
  xtradb['error_log_file'] = 'mysql-error.log'
  xtradb['log_queries_not_using_indexes'] = '1'
  xtradb['slow_query_log'] = '1'
  xtradb['slow_query_log_file'] = 'mysql-slow.log'
  xtradb['transaction_isolation'] = 'READ-COMMITTED'
  xtradb['innodb_read_io_threads'] = '64'
  xtradb['innodb_write_io_threads'] = '64'
  xtradb['wsrep_slave_threads'] = '64'
  xtradb['innodb_io_capacity'] = '2000'
  xtradb['innodb_flush_neighbor_pages'] = 'cont'
  xtradb['innodb_log_file_size'] = '4G'
  xtradb['backup_log_dir'] = '/var/log/mysql/percona_backups'
  xtradb['backup_dir'] = '/percona_backups'
  xtradb['backup_script_dir'] = '/opt/percona_backup_scripts'
  xtradb['backup_log_dir'] = '/var/log/mysql/percona_backups'
  xtradb['xtradb_backup']['aws_db_bucket'] = 's3://aws-s3-link/bin_bucket/'
end

default['aws_s3'].tap do |aws_s3|
  aws_s3['aws_user'] = 'travis'
end
